<template>
	<div id="app">
		<PolywoodBanner :enable-parallax="false" />
		<div class="component-separator"></div>
		
		<LoginContainer v-if="this.authToken === undefined || this.authToken === null"/>
		
		<div v-else>
			<NavBar/>
			
			<div class="component-separator"></div>
			
			<FilterBar v-if="this.$store.getters.navigationId !== 2 && this.$store.getters.navigationId !== 4"/>
			
			<div class="component-separator"></div>
			
			<transition name="component-fade" mode="out-in">
				<component v-bind:is="view"></component>
			</transition>
		</div>
		
		<FooterBanner/>
	</div>
</template>

<script>
import PolywoodBanner from "./components/PolywoodBanner";
import NavBar from "./components/NavBar";
import MoviesContainer from "./components/MoviesContainer";
import ActorsContainer from "./components/ActorsContainer";
import FavoritesContainer from "./components/FavoritesContainer";
import AboutUsContainer from "./components/AboutUsContainer";
import FooterBanner from "./components/FooterBanner";
import FilterBar from "./components/FilterBar";
import LoginContainer from "./components/LoginContainer";

export default {
	name: "app",
	components: {
		FilterBar,
		FooterBanner,
		AboutUsContainer,
		ActorsContainer,
		MoviesContainer,
		FavoritesContainer,
		LoginContainer,
		PolywoodBanner,
		NavBar,
	},
	computed: {
		view() {
			if (this.authToken === null || this.authToken === undefined)
				return LoginContainer;
			
			switch (this.$store.getters.navigationId) {
				case 0:
					return MoviesContainer;
				case 1:
					return ActorsContainer;
				case 4:
					return FavoritesContainer;
				default:
					return AboutUsContainer;
			}
		},
		authToken() {
			return this.$store.getters.authToken;
		},
	},
};
</script>

<style lang="scss">
@import "assets/css/style";

.component-separator {
	height: 30px;
}

.component-fade-enter-active, .component-fade-leave-active {
	transition: opacity .3s ease;
}
.component-fade-enter, .component-fade-leave-to
	/* .component-fade-leave-active below version 2.1.8 */ {
	opacity: 0;
}
</style>
